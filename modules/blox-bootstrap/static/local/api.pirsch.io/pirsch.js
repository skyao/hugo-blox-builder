(()=>{function d(t){let e=document.querySelector(t);if(!e)throw`Pirsch script ${t} tag not found!`;return e}function f(t,e){let r="";return t.length>0&&(e<t.length?r=t[e]:r=t[t.length-1]),r}function p(t){return v()||m(t)||!L(t)||P(t)}function h(t){return t?t=location.href.replace(location.hostname,t):t=location.href,t}function g(t,e){t||(t=location.href),e||(e="");let r=new URL(t);return r.pathname=e+r.pathname,r.toString()}function w(t){let e=document.referrer;return t&&(e=e.replace(location.hostname,t)),e}function v(){return navigator.doNotTrack==="1"||localStorage.getItem("disable_pirsch")}function m(t){return!t.hasAttribute("data-dev")&&(/^localhost(.*)$|^127(\.[0-9]{1,3}){3}$/is.test(location.hostname)||location.protocol==="file:")?(console.info("Pirsch is ignored on localhost. Add the data-dev attribute to enable it."),!0):!1}function L(t){try{let e=t.getAttribute("data-include"),r=e?e.split(","):[];if(r.length){let n=!1;for(let o=0;o<r.length;o++)if(new RegExp(r[o]).test(location.pathname)){n=!0;break}if(!n)return!1}}catch(e){console.error(e)}return!0}function P(t){try{let e=t.getAttribute("data-exclude"),r=e?e.split(","):[];for(let n=0;n<r.length;n++)if(new RegExp(r[n]).test(location.pathname))return!0}catch(e){console.error(e)}return!1}function A(t,e,r,n,o,i,c,a,u){if(history.pushState&&!u){let s=history.pushState;history.pushState=function(x,S,y){s.apply(this,[x,S,y]),l(t,e,r,n,o,i,c,a)},window.addEventListener("popstate",()=>l(t,e,r,n,o,i,c,a))}document.body?l(t,e,r,n,o,i,c,a):window.addEventListener("DOMContentLoaded",()=>l(t,e,r,n,o,i,c,a))}function l(t,e,r,n,o,i,c,a){b(e,t.length?"":f(r,0),n,o,i,c,a);for(let u=0;u<t.length;u++)b(t[u],f(r,u),n,o,i,c,a)}function b(t,e,r,n,o,i,c){let a=w(t);t=h(t),t=g(t,e),o&&(t=t.includes("?")?t.split("?")[0]:t);let u=n+"?nc="+new Date().getTime()+"&code="+r+"&url="+encodeURIComponent(t.substring(0,1800))+"&t="+encodeURIComponent(document.title)+"&ref="+(i?"":encodeURIComponent(a))+"&w="+(c?"":screen.width)+"&h="+(c?"":screen.height),s=new XMLHttpRequest;s.open("GET",u),s.send()}(function(){"use strict";let t=d("#pirschjs");if(p(t)||document.querySelector("#pirschextendedjs"))return;let e=t.getAttribute("data-endpoint")||"https://api.pirsch.io/hit",r=t.getAttribute("data-code")||"not-set",n=t.getAttribute("data-domain")?t.getAttribute("data-domain").split(",")||[]:[],o=t.hasAttribute("data-disable-query"),i=t.hasAttribute("data-disable-referrer"),c=t.hasAttribute("data-disable-resolution"),a=t.hasAttribute("data-disable-history"),u=t.getAttribute("data-dev"),s=t.getAttribute("data-path-prefix")?t.getAttribute("data-path-prefix").split(",")||[]:[];A(n,u,s,r,e,o,i,c,a)})();})();
